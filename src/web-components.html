<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Web Components Form</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			line-height: 1.6;
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
		}

		.success-message {
			background-color: #d4edda;
			padding: 15px;
			border: 1px solid #c3e6cb;
			border-radius: 5px;
			margin-bottom: 20px;
			display: none;
		}
	</style>
</head>
<body>
	<h1>Web Components Form</h1>

	<div class="success-message" id="success-message">
		<strong>Success!</strong> Form submitted successfully! The secret is: dumbledore
	</div>

	<wc-form id="web-components-form"></wc-form>

	<script type="module">
		import { LitElement, html, css } from 'https://unpkg.com/lit@2.8.0/index.js?module';

		// Define form component using LitElement
		class WCForm extends LitElement {
			static styles = css`
				:host {
					display: block;
				}

				form {
					background: #f9f9f9;
					border: 1px solid #ddd;
					padding: 20px;
					border-radius: 5px;
				}

				fieldset {
					margin-bottom: 20px;
					border: 1px solid #ccc;
					padding: 15px;
				}

				legend {
					font-weight: bold;
				}

				label {
					display: block;
					margin-bottom: 5px;
					font-weight: bold;
				}

				input, select, textarea {
					width: 100%;
					padding: 8px;
					margin-bottom: 15px;
					border: 1px solid #ccc;
					border-radius: 4px;
					box-sizing: border-box;
				}

				input[type="checkbox"], input[type="radio"] {
					width: auto;
					margin-right: 10px;
				}

				.radio-group, .checkbox-group {
					margin-bottom: 15px;
				}

				.radio-label, .checkbox-label {
					font-weight: normal;
				}

				button {
					background-color: #4CAF50;
					color: white;
					padding: 10px 15px;
					border: none;
					border-radius: 4px;
					cursor: pointer;
					margin-right: 10px;
				}

				button:hover {
					background-color: #45a049;
				}

				.required:after {
					content: " *";
					color: red;
				}

				.error {
					color: red;
					font-size: 0.8em;
					display: block;
				}
			`;

			static properties = {
				formData: { type: Object },
				errors: { type: Object }
			};

			constructor() {
				super();
				this.formData = {
					textInput: '',
															dateInput: '',
										selectInput: '',
										radioGroup: '',
					checkboxes: [],
									};
				this.errors = {};
			}

			_handleInput(e) {
				const name = e.target.name;
				let value = e.target.type === 'checkbox' ? e.target.checked : e.target.value;

				this.formData = {
					...this.formData,
					[name]: value
				};
			}

			_handleSubmit(e) {
				e.preventDefault();

				let isValid = true;
				let errors = {};

				// Text input validation
				if (!this.formData.textInput.trim()) {
					errors.textInput = 'This field is required';
					isValid = false;
				}

												this.errors = errors;

				if (isValid) {
					console.log('Form submitted successfully! The secret is: dumbledore', this.formData);
					document.getElementById('success-message').style.display = 'block';

					setTimeout(function() {
						document.getElementById('success-message').style.display = 'none';
					}, 3000);
				}

				this.requestUpdate();
			}

			render() {
				return html`
					<form @submit="${this._handleSubmit}">
						<fieldset>
							<legend>Form Fields</legend>

							<wc-input
								label="Text Input"
								name="textInput"
								.value="${this.formData.textInput}"
								@input="${this._handleInput}"
								required="true"
								.error="${this.errors.textInput}">
							</wc-input>

																					<wc-input
								label="Date Input"
								name="dateInput"
								type="date"
								.value="${this.formData.dateInput}"
								@input="${this._handleInput}">
							</wc-input>

							<wc-input
								label="File Upload"
								name="fileInput"
								type="file">
							</wc-input>

							<wc-select
								label="Dropdown Selection"
								name="selectInput"
								.value="${this.formData.selectInput}"
								@change="${this._handleInput}">
								<option value="">Please select an option</option>
								<option value="option1">Option 1</option>
								<option value="option2">Option 2</option>
								<option value="option3">Option 3</option>
							</wc-select>

														<wc-radio-group
								label="Radio Buttons"
								name="radioGroup"
								.value="${this.formData.radioGroup}"
								@change="${this._handleInput}">
							</wc-radio-group>

							<wc-checkbox-group
								label="Checkboxes"
								name="checkboxes">
							</wc-checkbox-group>

							<wc-textarea
								label="Text Area"
								name="textareaInput"
								.value="${this.formData.textareaInput}"
								@input="${this._handleInput}">
							</wc-textarea>
						</fieldset>

						<div>
							<button type="submit" id="submit-button">Submit Form</button>
							<button type="reset" @click="${() => this.formData = {
								textInput: '',
																								dateInput: '',
																selectInput: '',
																radioGroup: '',
								checkboxes: [],
															}}">Reset Form</button>
						</div>
					</form>
				`;
			}
		}

		class WCInput extends LitElement {
			static styles = css`
				:host {
					display: block;
				}

				label {
					display: block;
					margin-bottom: 5px;
					font-weight: bold;
				}

				.required::after {
					content: " *";
					color: red;
				}

				input {
					width: 100%;
					padding: 8px;
					margin-bottom: 15px;
					border: 1px solid #ccc;
					border-radius: 4px;
					box-sizing: border-box;
				}

				.error {
					color: red;
					font-size: 0.8em;
					display: block;
					margin-top: -10px;
					margin-bottom: 10px;
				}
			`;

			static properties = {
				label: { type: String },
				name: { type: String },
				type: { type: String },
				value: { type: String },
				required: { type: Boolean },
				min: { type: String },
				max: { type: String },
				step: { type: String },
				error: { type: String }
			};

			constructor() {
				super();
				this.label = '';
				this.name = '';
				this.type = 'text';
				this.value = '';
				this.required = false;
				this.error = '';
			}

			render() {
				return html`
					<label class="${this.required ? 'required' : ''}">${this.label}:</label>
					<input
						type="${this.type}"
						name="${this.name}"
						.value="${this.value}"
						?required="${this.required}"
						min="${this.min}"
						max="${this.max}"
						step="${this.step}"
					/>
					${this.error ? html`<span class="error">${this.error}</span>` : ''}
				`;
			}
		}

		class WCSelect extends LitElement {
			static styles = css`
				:host {
					display: block;
				}

				label {
					display: block;
					margin-bottom: 5px;
					font-weight: bold;
				}

				select {
					width: 100%;
					padding: 8px;
					margin-bottom: 15px;
					border: 1px solid #ccc;
					border-radius: 4px;
					box-sizing: border-box;
				}
			`;

			static properties = {
				label: { type: String },
				name: { type: String },
				value: { type: String },
				multiple: { type: Boolean }
			};

			constructor() {
				super();
				this.label = '';
				this.name = '';
				this.value = '';
				this.multiple = false;
			}

			render() {
				return html`
					<label>${this.label}:</label>
					<select
						name="${this.name}"
						.value="${this.value}"
						?multiple="${this.multiple}"
						size="${this.multiple ? 3 : 1}"
					>
						<slot></slot>
					</select>
				`;
			}
		}

		class WCRadioGroup extends LitElement {
			static styles = css`
				:host {
					display: block;
					margin-bottom: 15px;
				}

				label {
					display: block;
					margin-bottom: 5px;
					font-weight: bold;
				}

				.radio-label {
					font-weight: normal;
				}

				input[type="radio"] {
					margin-right: 10px;
				}
			`;

			static properties = {
				label: { type: String },
				name: { type: String },
				value: { type: String }
			};

			constructor() {
				super();
				this.label = '';
				this.name = '';
				this.value = '';
			}

			render() {
				return html`
					<label>${this.label}:</label>
					<div>
						<input type="radio" id="radio1" name="${this.name}" value="radio1" ?checked="${this.value === 'radio1'}">
						<label for="radio1" class="radio-label">Option 1</label>
					</div>
					<div>
						<input type="radio" id="radio2" name="${this.name}" value="radio2" ?checked="${this.value === 'radio2'}">
						<label for="radio2" class="radio-label">Option 2</label>
					</div>
					<div>
						<input type="radio" id="radio3" name="${this.name}" value="radio3" ?checked="${this.value === 'radio3'}">
						<label for="radio3" class="radio-label">Option 3</label>
					</div>
				`;
			}
		}

		class WCCheckboxGroup extends LitElement {
			static styles = css`
				:host {
					display: block;
					margin-bottom: 15px;
				}

				label {
					display: block;
					margin-bottom: 5px;
					font-weight: bold;
				}

				.checkbox-label {
					font-weight: normal;
				}

				input[type="checkbox"] {
					margin-right: 10px;
				}
			`;

			static properties = {
				label: { type: String },
				name: { type: String }
			};

			constructor() {
				super();
				this.label = '';
				this.name = '';
			}

			render() {
				return html`
					<label>${this.label}:</label>
					<div>
						<input type="checkbox" id="checkbox1" name="${this.name}" value="checkbox1">
						<label for="checkbox1" class="checkbox-label">Option 1</label>
					</div>
					<div>
						<input type="checkbox" id="checkbox2" name="${this.name}" value="checkbox2">
						<label for="checkbox2" class="checkbox-label">Option 2</label>
					</div>
					<div>
						<input type="checkbox" id="checkbox3" name="${this.name}" value="checkbox3">
						<label for="checkbox3" class="checkbox-label">Option 3</label>
					</div>
				`;
			}
		}

		class WCTextarea extends LitElement {
			static styles = css`
				:host {
					display: block;
				}

				label {
					display: block;
					margin-bottom: 5px;
					font-weight: bold;
				}

				textarea {
					width: 100%;
					padding: 8px;
					margin-bottom: 15px;
					border: 1px solid #ccc;
					border-radius: 4px;
					box-sizing: border-box;
				}
			`;

			static properties = {
				label: { type: String },
				name: { type: String },
				value: { type: String }
			};

			constructor() {
				super();
				this.label = '';
				this.name = '';
				this.value = '';
			}

			render() {
				return html`
					<label>${this.label}:</label>
					<textarea
						name="${this.name}"
						.value="${this.value}"
						rows="4"
					></textarea>
				`;
			}
		}

		// Register the components
		customElements.define('wc-form', WCForm);
		customElements.define('wc-input', WCInput);
		customElements.define('wc-select', WCSelect);
		customElements.define('wc-radio-group', WCRadioGroup);
		customElements.define('wc-checkbox-group', WCCheckboxGroup);
		customElements.define('wc-textarea', WCTextarea);
	</script>
</body>
</html>
