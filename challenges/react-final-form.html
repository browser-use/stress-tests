<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Final Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
            padding-bottom: 50px;
        }

        .form-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .form-section {
            margin-bottom: 35px;
            padding: 25px;
            background-color: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .form-section h3 {
            margin-top: 0;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e9ecef;
            color: #495057;
            font-weight: 600;
        }

        .error-text {
            color: #dc3545;
            font-size: 0.75rem;
            margin-top: 0.25rem;
            font-weight: 500;
        }

        .error-field {
            border-color: #dc3545;
            background-color: #fff8f8;
        }

        .label-required:after {
            content: " *";
            color: #dc3545;
        }

        .btn-submit {
            background-color: #20c997;
            border-color: #20c997;
        }

        .btn-submit:hover {
            background-color: #1ba87e;
            border-color: #1ba87e;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mt-4 mb-3 text-center">React Final Form</h1>
        <p class="text-center mb-4">This is a fully interactive React Final Form implementation.</p>

        <div class="alert alert-success" id="success-message" style="display: none;">
            <strong>Success!</strong> Form submitted successfully! The secret is: dumbledore
        </div>

        <div id="root" class="form-container"></div>
    </div>

    <script>
        const { useState } = React;
        const e = React.createElement;

        // Simple form component
        function SimpleForm() {
            const [values, setValues] = useState({
                textInput: '',
                emailInput: '',
                numberInput: '',
                dateInput: '',
                rangeInput: 50,
                selectInput: '',
                multipleSelect: [],
                radioGroup: '',
                checkbox1: false,
                checkbox2: false,
                checkbox3: false,
                textareaInput: ''
            });

            const [errors, setErrors] = useState({});
            const [submitting, setSubmitting] = useState(false);

            const handleSubmit = (event) => {
                event.preventDefault();
                setSubmitting(true);

                // Basic validation
                const newErrors = {};
                if (!values.textInput) newErrors.textInput = 'Text input is required';
                if (!values.emailInput) {
                    newErrors.emailInput = 'Email is required';
                } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(values.emailInput)) {
                    newErrors.emailInput = 'Please enter a valid email address';
                }

                setErrors(newErrors);

                if (Object.keys(newErrors).length === 0) {
                    console.log('Form submitted successfully! The secret is: dumbledore', values);
                    document.getElementById('success-message').style.display = 'block';
                    setTimeout(() => {
                        document.getElementById('success-message').style.display = 'none';
                    }, 3000);
                }

                setSubmitting(false);
            };

            const handleChange = (name, value) => {
                setValues(prev => ({ ...prev, [name]: value }));
                if (errors[name]) {
                    setErrors(prev => ({ ...prev, [name]: '' }));
                }
            };

            const handleMultiSelectChange = (e) => {
                const options = e.target.options;
                const selected = [];
                for (let i = 0; i < options.length; i++) {
                    if (options[i].selected) {
                        selected.push(options[i].value);
                    }
                }
                handleChange('multipleSelect', selected);
            };

            return e('form', { onSubmit: handleSubmit },
                e('fieldset', { className: 'form-section' },
                    e('legend', null, 'Form Fields'),

                    // Text Input
                    e('div', { className: 'mb-3' },
                        e('label', { htmlFor: 'textInput', className: 'form-label label-required' }, 'Text Input'),
                        e('input', {
                            type: 'text',
                            id: 'textInput',
                            className: `form-control ${errors.textInput ? 'error-field' : ''}`,
                            value: values.textInput,
                            onChange: (e) => handleChange('textInput', e.target.value)
                        }),
                        errors.textInput && e('div', { className: 'error-text' }, errors.textInput)
                    ),

                    // Date Input
                    e('div', { className: 'mb-3' },
                        e('label', { htmlFor: 'dateInput', className: 'form-label' }, 'Date Input'),
                        e('input', {
                            type: 'date',
                            id: 'dateInput',
                            className: 'form-control',
                            value: values.dateInput,
                            onChange: (e) => handleChange('dateInput', e.target.value)
                        })
                    ),

                    // File Upload
                    e('div', { className: 'mb-3' },
                        e('label', { htmlFor: 'fileInput', className: 'form-label' }, 'File Upload'),
                        e('input', {
                            type: 'file',
                            id: 'fileInput',
                            className: 'form-control'
                        })
                    ),

                    // Dropdown Selection
                    e('div', { className: 'mb-3' },
                        e('label', { htmlFor: 'selectInput', className: 'form-label' }, 'Dropdown Selection'),
                        e('select', {
                            id: 'selectInput',
                            className: 'form-select',
                            value: values.selectInput,
                            onChange: (e) => handleChange('selectInput', e.target.value)
                        },
                            e('option', { value: '' }, 'Please select an option'),
                            e('option', { value: 'option1' }, 'Option 1'),
                            e('option', { value: 'option2' }, 'Option 2'),
                            e('option', { value: 'option3' }, 'Option 3')
                        )
                    ),

                    // Radio Buttons
                    e('div', { className: 'mb-3' },
                        e('label', { className: 'form-label' }, 'Radio Buttons'),
                        e('div', { className: 'form-check' },
                            e('input', {
                                type: 'radio',
                                id: 'radio1',
                                name: 'radioGroup',
                                value: 'radio1',
                                className: 'form-check-input',
                                checked: values.radioGroup === 'radio1',
                                onChange: (e) => handleChange('radioGroup', e.target.value)
                            }),
                            e('label', { className: 'form-check-label', htmlFor: 'radio1' }, 'Option 1')
                        ),
                        e('div', { className: 'form-check' },
                            e('input', {
                                type: 'radio',
                                id: 'radio2',
                                name: 'radioGroup',
                                value: 'radio2',
                                className: 'form-check-input',
                                checked: values.radioGroup === 'radio2',
                                onChange: (e) => handleChange('radioGroup', e.target.value)
                            }),
                            e('label', { className: 'form-check-label', htmlFor: 'radio2' }, 'Option 2')
                        ),
                        e('div', { className: 'form-check' },
                            e('input', {
                                type: 'radio',
                                id: 'radio3',
                                name: 'radioGroup',
                                value: 'radio3',
                                className: 'form-check-input',
                                checked: values.radioGroup === 'radio3',
                                onChange: (e) => handleChange('radioGroup', e.target.value)
                            }),
                            e('label', { className: 'form-check-label', htmlFor: 'radio3' }, 'Option 3')
                        )
                    ),

                    // Checkboxes
                    e('div', { className: 'mb-3' },
                        e('label', { className: 'form-label' }, 'Checkboxes'),
                        e('div', { className: 'form-check' },
                            e('input', {
                                type: 'checkbox',
                                id: 'checkbox1',
                                className: 'form-check-input',
                                checked: values.checkbox1,
                                onChange: (e) => handleChange('checkbox1', e.target.checked)
                            }),
                            e('label', { className: 'form-check-label', htmlFor: 'checkbox1' }, 'Option 1')
                        ),
                        e('div', { className: 'form-check' },
                            e('input', {
                                type: 'checkbox',
                                id: 'checkbox2',
                                className: 'form-check-input',
                                checked: values.checkbox2,
                                onChange: (e) => handleChange('checkbox2', e.target.checked)
                            }),
                            e('label', { className: 'form-check-label', htmlFor: 'checkbox2' }, 'Option 2')
                        ),
                        e('div', { className: 'form-check' },
                            e('input', {
                                type: 'checkbox',
                                id: 'checkbox3',
                                className: 'form-check-input',
                                checked: values.checkbox3,
                                onChange: (e) => handleChange('checkbox3', e.target.checked)
                            }),
                            e('label', { className: 'form-check-label', htmlFor: 'checkbox3' }, 'Option 3')
                        )
                    ),
                ),

                // Submit Button
                e('div', { className: 'd-flex gap-2 mb-3' },
                    e('button', {
                        type: 'submit',
                        className: 'btn btn-primary btn-submit',
                        disabled: submitting
                    }, submitting ? 'Submitting...' : 'Submit Form'),
                    e('button', {
                        type: 'button',
                        className: 'btn btn-secondary',
                        onClick: () => {
                            setValues({
                                textInput: '',
                                emailInput: '',
                                numberInput: '',
                                dateInput: '',
                                rangeInput: 50,
                                selectInput: '',
                                multipleSelect: [],
                                radioGroup: '',
                                checkbox1: false,
                                checkbox2: false,
                                checkbox3: false,
                                textareaInput: ''
                            });
                            setErrors({});
                        }
                    }, 'Reset Form')
                )
            );
        }

        // Render the app
        ReactDOM.render(React.createElement(SimpleForm), document.getElementById('root'));
    </script>
</body>
</html>
