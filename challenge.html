<!DOCTYPE html>
<html lang="en">
<head>
    <!--
    This is a mini game/playtest tool based on forms and interactive html elements.
    It presents a sequence of tasks that test various browser APIs and user interaction methods.
    It's designed to test AI agents' ability to drive a browser like a human using tools like Playwright.
    
    Task Structure Requirements:
    1. Each task must have a URL-friendly unique ID (e.g., "simple-button", "drag-drop", "audio-transcription")
    2. Use this ID format for both the div ID and the anchor tag
    3. Always update the total count in the score display when adding new tasks
    
    Required HTML structure for a new task:
    
    <div class="task" id="descriptive-id">
        <div class="task-badge"><a href="#descriptive-id" id="descriptive-id">descriptive-id</a></div>
        <div class="task-title">Imperative straightforward instructions for the user</div>
        ... task content here ...
        <style>
            ... task-specific styles here ...
        </style>
        <script>
            // ... task completion logic here ...
            // Use completeTask(document.getElementById('descriptive-id')) to mark as complete
        </script>
    </div>
    
    Note: Each task's title should be an imperative statement clearly telling the user what they need to do.
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browser-use Challenge for AI Browser Drivers</title>
    <style>
        :root {
            --primary-color: #4a6bff;
            --secondary-color: #ff4a6b;
            --background-color: #f8f9fa;
            --task-bg-color: #ffffff;
            --success-color: #28a745;
            --text-color: #333;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: 0;
            margin: 0;
            transition: background-color 0.3s ease;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            text-align: center;
            padding: 1.8rem 1rem;
            box-shadow: var(--box-shadow);
        }

        h1 {
            margin: 0;
            font-size: 2rem;
            letter-spacing: -0.5px;
        }

        .score-container {
            font-size: 1.5rem;
            padding: 0.5rem;
            background-color: rgba(55, 55, 55, 0.2);
            border-radius: 8px;
            display: inline-block;
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 200;
        }

        .score {
            font-weight: bold;
            font-size: 2rem;
            color: #fff;
            display: inline-block;
        }

        .score-animation {
            animation: pulse 0.5s ease-in-out;
        }

        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .task {
            background-color: var(--task-bg-color);
            margin-bottom: 2rem;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: var(--box-shadow);
            opacity: 0.7;
            transition: all 0.3s ease;
            position: relative;
        }

        .task.active {
            opacity: 1;
            transform: translateY(-5px);
            border-left: 5px solid var(--primary-color);
        }

        .task.completed {
            border-left: 5px solid var(--success-color);
        }

        .task-badge {
            position: absolute;
            top: -15px;
            left: -15px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            min-width: 30px;
            height: 30px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            text-decoration: none;
            padding: 0 5px;
        }
        
        .task-badge a {
            color: white;
            text-decoration: none;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
        }

        .task-title {
            font-weight: bold;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        button:hover {
            background-color: #3755d8;
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        input[type="text"], input[type="date"] {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            width: 100%;
            max-width: 300px;
        }

        .radio-group, .checkbox-group {
            margin: 1rem 0;
        }

        .radio-group label, .checkbox-group label {
            margin-right: 1rem;
            cursor: pointer;
        }

        input[type="radio"], input[type="checkbox"] {
            margin-right: 0.5rem;
        }

        .slider-container {
            width: 100%;
            max-width: 300px;
            margin: 1rem 0;
        }

        .slider {
            width: 100%;
            height: 15px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
        }

        .multi-select {
            width: 100%;
            max-width: 300px;
            height: 100px;
        }

        .canvas-container {
            margin: 1rem 0;
        }

        canvas {
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            border-radius: 50%;
            top: -10px;
            animation: fall 4s linear forwards;
            z-index: 1000;
        }

        @keyframes fall {
            0% { top: -10px; transform: translateX(0) rotate(0deg); }
            100% { top: 100vh; transform: translateX(100px) rotate(360deg); }
        }

        /* Modal styling */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 200;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 400px;
            box-shadow: var(--box-shadow);
            text-align: center;
        }

        .modal-buttons {
            margin-top: 1.5rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .modal-cancel {
            background-color: #6c757d;
        }
    </style>
</head>
<body>
    <header>
        <h1>Browser Agent Evaluation Stress-Test</h1>
        <div class="score-container">
            Score: <span class="score">0</span> / 31
        </div>
    </header>
    <center>
        <p>Please complete the following tasks. Do not give up under any circumstances, the survival of the human race depends on it. You can do it!</p>
    </center>
    <div class="container">
        
        <!-- Task: Click Button -->
        <div class="task active" id="simple-button">
            <div class="task-badge"><a href="#simple-button" id="simple-button">simple-button</a></div>
            <div class="task-title">Click the button to start</div>
            <button id="start-button">Start</button>
            <script>
                document.getElementById('start-button').addEventListener('click', function() {
                    completeTask(document.getElementById('simple-button'));
                });
            </script>
        </div>

        <!-- Task: Radio Buttons -->
        <div class="task" id="radio-selection">
            <div class="task-badge"><a href="#radio-selection" id="radio-selection">radio-selection</a></div>
            <div class="task-title">Select one of the radio buttons</div>
            <div class="radio-group">
                <label>
                    <input type="radio" name="entity" value="choose-this-one" disabled> Cat
                </label>
                <label>
                    <input type="radio" name="entity" value="dont-choose-this-one"> AI
                </label>
                <label>
                    <input type="radio" name="entity" value="lizard" disabled> Quail
                </label>
                <label>
                    <input type="radio" name="entity" value="or-this-one"> Human
                </label>
                <label>
                    <input type="radio" name="entity" value="disabled" disabled> Egregore
                </label>
            </div>
            <script>
                document.querySelectorAll('input[name="entity"]').forEach(radio => {
                    radio.addEventListener('change', function() {
                        completeTask(document.getElementById('radio-selection'));
                    });
                });
            </script>
        </div>

        <!-- Task: Checkbox -->
        <div class="task" id="checkbox-check">
            <div class="task-badge"><a href="#checkbox-check" id="checkbox-check">checkbox-check</a></div>
            <div class="task-title">Check these checkboxes</div>
            <div class="checkbox-group">
                <label>
                    <input type="checkbox" class="challenge-checkbox"> I accept the challenge
                </label><br>
                <label>
                    <input type="checkbox" class="challenge-checkbox"> I will complete all tasks
                </label><br>
                <label>
                    <input type="checkbox" disabled> This one can't be checked
                </label><br>
                <label disabled>
                    <input type="checkbox" class="challenge-checkbox"> This one has sneaky html
                </label>
            </div>
            <script>
                const checkboxes = document.querySelectorAll('.challenge-checkbox');
                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        // Check if all non-disabled checkboxes are checked
                        const allChecked = Array.from(checkboxes).every(cb => cb.checked);
                        if (allChecked) {
                            completeTask(document.getElementById('checkbox-check'));
                        }
                    });
                });
            </script>
        </div>

        <!-- Task: Search -->
        <div class="task" id="search-squash">
            <div class="task-badge"><a href="#search-squash" id="search-squash">search-squash</a></div>
            <div class="task-title">Use this search field to search for "squash"</div>
            <input type="search" id="search-input" placeholder="Enter a search term and press Enter" value="abc">
            <script>
                document.getElementById('search-input').addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && this.value.trim().toLowerCase() === 'squash') {
                        completeTask(document.getElementById('search-squash'));
                    } else if (e.key === 'Enter') {
                        // Wrong search term feedback
                        const oldVal = this.value;
                        this.value = "Try searching for 'squash'";
                        setTimeout(() => {
                            this.value = oldVal;
                            this.select(); // Select the text for easy replacement
                        }, 1500);
                    }
                });
            </script>
        </div>

        <!-- Task: Date and Time Pickers -->
        <div class="task" id="date-time-input">
            <div class="task-badge"><a href="#date-time-input" id="date-time-input">date-time-input</a></div>
            <div class="task-title">Input the current date and time</div>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <input type="date" id="date-picker">
                <input type="time" id="time-picker">
            </div>
            <script>
                const datePicker = document.getElementById('date-picker');
                const timePicker = document.getElementById('time-picker');
                let dateSelected = false;
                let timeSelected = false;
                
                function checkDateTimeCompletion() {
                    if (dateSelected && timeSelected) {
                        completeTask(document.getElementById('date-time-input'));
                    }
                }
                
                datePicker.addEventListener('change', function() {
                    if (this.value) {
                        dateSelected = true;
                        checkDateTimeCompletion();
                    }
                });
                
                timePicker.addEventListener('change', function() {
                    if (this.value) {
                        timeSelected = true;
                        checkDateTimeCompletion();
                    }
                });
            </script>
        </div>

        <!-- Task: Copy Text -->
        <div class="task" id="copy-text">
            <div class="task-badge"><a href="#copy-text" id="copy-text">copy-text</a></div>
            <div class="task-title">Copy this text [abc] into this field</div>
            <div>Text to copy: <strong>abc</strong></div>
            <input type="text" id="copy-input" placeholder="Paste here">
            <script>
                document.getElementById('copy-input').addEventListener('input', function() {
                    if (this.value === 'abc') {
                        completeTask(document.getElementById('copy-text'));
                    }
                });
            </script>
        </div>

        <!-- Task: Slider -->
        <div class="task" id="slider-drag">
            <div class="task-badge"><a href="#slider-drag" id="slider-drag">slider-drag</a></div>
            <div class="task-title">Drag this slider completely to the right</div>
            <div class="slider-container">
                <input type="range" min="1" max="100" value="1" class="slider" id="range-slider">
                <div>Value: <span id="slider-value">1</span></div>
            </div>
            <script>
                const slider = document.getElementById('range-slider');
                const sliderValue = document.getElementById('slider-value');
                slider.addEventListener('input', function() {
                    sliderValue.textContent = this.value;
                    if (parseInt(this.value) >= 90) {
                        completeTask(document.getElementById('slider-drag'));
                    }
                });
            </script>
        </div>

        <!-- Task: Hover -->
        <div class="task" id="hover-element">
            <div class="task-badge"><a href="#hover-element" id="hover-element">hover-element</a></div>
            <div class="task-title">Hover over this element</div>
            <style>
                .hover-area {
                    background-color: #e9ecef;
                    padding: 1rem;
                    border-radius: 4px;
                    text-align: center;
                    transition: background-color 0.3s ease;
                }

                .hover-area:hover {
                    background-color: var(--secondary-color);
                    color: white;
                }
            </style>
            <div class="hover-area" id="hover-target">Hover over me</div>
            <script>
                let hoverTimeout;
                document.getElementById('hover-target').addEventListener('mouseenter', function() {
                    this.textContent = 'Nice hovering!';
                    hoverTimeout = setTimeout(() => {
                        completeTask(document.getElementById('hover-element'));
                    }, 1000);
                });
                
                document.getElementById('hover-target').addEventListener('mouseleave', function() {
                    this.textContent = 'Hover over me';
                    clearTimeout(hoverTimeout);
                });
            </script>
        </div>

        <!-- Task: Drag and Drop -->
        <div class="task" id="drag-drop">
            <div class="task-badge"><a href="#drag-drop" id="drag-drop">drag-drop</a></div>
            <div class="task-title">Drag this element onto this other element</div>
            <style>
                .drag-source {
                    background-color: #e9ecef;
                    padding: 1rem;
                    border-radius: 4px;
                    margin-bottom: 1rem;
                    cursor: move;
                    user-select: none;
                    transition: background-color 0.3s ease;
                }

                .drop-target {
                    background-color: #e9ecef;
                    padding: 2rem;
                    border-radius: 4px;
                    border: 2px dashed #adb5bd;
                    margin-top: 1rem;
                    text-align: center;
                    transition: all 0.3s ease;
                }

                .drop-target.highlight {
                    background-color: rgba(74, 107, 255, 0.1);
                    border-color: var(--primary-color);
                }
            </style>
            <div class="drag-source" id="drag-element" draggable="true" style="width: 150px; border: 4px solid green; border-radius: 4px;">Drag me</div>
            <div class="drop-target" id="drop-target">Drop here</div>
            <script>
                const dragElement = document.getElementById('drag-element');
                const dropTarget = document.getElementById('drop-target');

                dragElement.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', 'dragged');
                    setTimeout(() => {
                        this.style.opacity = '0.4';
                    }, 0);
                });

                dragElement.addEventListener('dragend', function() {
                    this.style.opacity = '1';
                });

                dropTarget.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('highlight');
                });

                dropTarget.addEventListener('dragleave', function() {
                    this.classList.remove('highlight');
                });

                dropTarget.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('highlight');
                    if (e.dataTransfer.getData('text/plain') === 'dragged') {
                        this.textContent = 'Successfully dropped!';
                        completeTask(document.getElementById('drag-drop'));
                    }
                });
            </script>
        </div>

        <!-- Task: File Drop -->
        <div class="task" id="file-drop">
            <div class="task-badge"><a href="#file-drop" id="file-drop">file-drop</a></div>
            <div class="task-title">Drag a file into this element</div>
            <div class="drop-target" id="file-drop-area">Drop a file here</div>
            <script>
                const fileDropArea = document.getElementById('file-drop-area');

                fileDropArea.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('highlight');
                });

                fileDropArea.addEventListener('dragleave', function() {
                    this.classList.remove('highlight');
                });

                fileDropArea.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('highlight');
                    if (e.dataTransfer.files.length > 0) {
                        this.textContent = `Dropped file: ${e.dataTransfer.files[0].name}`;
                        completeTask(document.getElementById('file-drop'));
                    }
                });
            </script>
        </div>

        <!-- Task: Multi-select -->
        <div class="task" id="multi-select">
            <div class="task-badge"><a href="#multi-select" id="multi-select">multi-select</a></div>
            <div class="task-title">Select any 3 options in this multi-select-list</div>
            <select class="multi-select" id="multi-select-element" multiple>
                <option value="option1">Option 1</option>
                <option value="option2">Option 2</option>
                <option value="option3">Option 3</option>
                <option value="option4">Option 4</option>
                <option value="option5">Option 5</option>
            </select>
            <div><small>Hold Ctrl/Cmd to select multiple options</small></div>
            <script>
                const multiSelectElement = document.getElementById('multi-select-element');
                multiSelectElement.addEventListener('change', function() {
                    const selectedOptions = Array.from(this.selectedOptions);
                    if (selectedOptions.length >= 2) {
                        completeTask(document.getElementById('multi-select'));
                    }
                });
            </script>
        </div>

        <!-- Task: Canvas Text -->
        <div class="task" id="canvas-captcha">
            <div class="task-badge"><a href="#canvas-captcha" id="canvas-captcha">canvas-captcha</a></div>
            <div class="task-title">Read the text off this canvas element and type it into this input field</div>
            <div class="canvas-container">
                <canvas id="text-canvas" width="300" height="100"></canvas>
            </div>
            <input type="text" id="canvas-text-input" placeholder="Type the text you see in the canvas">
            <script>
                const canvas = document.getElementById('text-canvas');
                const ctx12 = canvas.getContext('2d');
                const canvasText = 'CAPTCHA123';
                
                // Draw text on canvas
                ctx12.fillStyle = '#f8f9fa';
                ctx12.fillRect(0, 0, canvas.width, canvas.height);
                ctx12.font = '30px Arial';
                ctx12.fillStyle = '#333';
                ctx12.textAlign = 'center';
                ctx12.textBaseline = 'middle';
                
                // Add some noise to make it harder to read
                for (let i = 0; i < 100; i++) {
                    ctx12.fillStyle = `rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, 0.5)`;
                    ctx12.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, 2, 2);
                }
                
                // Draw wavy text
                let x = canvas.width / 2;
                let y = canvas.height / 2;
                
                // Draw rotated, slightly distorted text
                ctx12.save();
                ctx12.translate(x, y);
                ctx12.rotate(Math.random() * 0.1 - 0.05);
                ctx12.fillText(canvasText, 0, Math.sin(y * 0.01) * 5);
                ctx12.restore();
                
                document.getElementById('canvas-text-input').addEventListener('input', function() {
                    if (this.value.toUpperCase() === canvasText) {
                        completeTask(document.getElementById('canvas-captcha'));
                    }
                });
            </script>
        </div>

        <!-- Task: Iframe slider -->
        <div class="task" id="iframe-slider">
            <div class="task-badge"><a href="#iframe-slider" id="iframe-slider">iframe-slider</a></div>
            <div class="task-title">Drag the slider completely to the right inside this iframe</div>
            <iframe id="slider-iframe-element" style="width: 350px; height: 150px; border: 1px solid #ddd; border-radius: 4px;" src="#"></iframe>
            <script>
                const sliderIframe = document.getElementById('slider-iframe-element');
                sliderIframe.onload = function() {
                    const iframeDoc = sliderIframe.contentDocument || sliderIframe.contentWindow.document;
                    
                    // Create the slider in the iframe
                    iframeDoc.body.innerHTML = `
                        <style>
                            body {
                                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                                padding: 10px;
                                margin: 0;
                            }
                            .slider-container {
                                width: 300px;
                                margin: 10px auto;
                            }
                            .slider {
                                width: 100%;
                                height: 15px;
                                border-radius: 5px;
                                background: #ddd;
                                outline: none;
                            }
                            .value-display {
                                text-align: center;
                                margin-top: 10px;
                            }
                        </style>
                        <div class="slider-container">
                            <input type="range" min="1" max="100" value="1" class="slider" id="iframe-slider">
                            <div class="value-display">Value: <span id="iframe-slider-value">1</span></div>
                        </div>
                    `;
                    
                    // Add event listeners for the iframe slider
                    const iframeSlider = iframeDoc.getElementById('iframe-slider');
                    const iframeSliderValue = iframeDoc.getElementById('iframe-slider-value');
                    
                    iframeSlider.addEventListener('input', function() {
                        iframeSliderValue.textContent = this.value;
                        if (parseInt(this.value) >= 90) {
                            completeTask(document.getElementById('iframe-slider'));
                        }
                    });
                };
                
                // Set the iframe source to be about:blank and force load event
                sliderIframe.src = 'about:blank';
            </script>
        </div>

        <!-- Task: Shadow DOM double-click -->
        <div class="task" id="shadow-dom-dblclick">
            <div class="task-badge"><a href="#shadow-dom-dblclick" id="shadow-dom-dblclick">shadow-dom-dblclick</a></div>
            <div class="task-title">Double-click the button inside this closed shadow DOM</div>
            <div id="shadow-host"></div>
            <script>
                const shadowHost = document.getElementById('shadow-host');
                const shadowRoot = shadowHost.attachShadow({ mode: 'closed' });
                
                shadowRoot.innerHTML = `
                    <style>
                        .shadow-container {
                            padding: 20px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            background-color: #f8f9fa;
                        }
                        button {
                            background-color: var(--primary-color, #4a6bff);
                            color: white;
                            border: none;
                            padding: 0.5rem 1rem;
                            border-radius: 4px;
                            cursor: pointer;
                            font-size: 1rem;
                        }
                        button:hover {
                            background-color: #3755d8;
                        }
                    </style>
                    <div class="shadow-container">
                        <button id="shadow-button">Double-click me</button>
                    </div>
                `;
                
                const shadowButton = shadowRoot.getElementById('shadow-button');
                shadowButton.addEventListener('dblclick', function() {
                    this.textContent = 'Double-clicked!';
                    completeTask(document.getElementById('shadow-dom-dblclick'));
                });
            </script>
        </div>

        <!-- Task: Right-click in Web Component slot -->
        <div class="task" id="right-click-component">
            <div class="task-badge"><a href="#right-click-component" id="right-click-component">right-click-component</a></div>
            <div class="task-title">Right-click the button inside this Web Component slot element</div>
            <right-click-component>
                <span slot="right-click-target">Right-click me</span>
            </right-click-component>
            <script>
                class RightClickComponent extends HTMLElement {
                    constructor() {
                        super();
                        const shadow = this.attachShadow({ mode: 'open' });
                        
                        const wrapper = document.createElement('div');
                        wrapper.style.padding = '1rem';
                        wrapper.style.border = '1px solid #ddd';
                        wrapper.style.borderRadius = '4px';
                        wrapper.style.backgroundColor = '#f8f9fa';
                        
                        const slot = document.createElement('slot');
                        slot.name = 'right-click-target';
                        slot.style.cursor = 'context-menu';
                        slot.style.userSelect = 'none';
                        slot.style.display = 'inline-block';
                        slot.style.padding = '0.5rem';
                        slot.style.backgroundColor = '#e9ecef';
                        slot.style.borderRadius = '4px';
                        
                        wrapper.appendChild(slot);
                        shadow.appendChild(wrapper);
                    }
                }
                customElements.define('right-click-component', RightClickComponent);

                document.querySelector('[slot="right-click-target"]').addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    this.textContent = 'Right-clicked!';
                    completeTask(document.getElementById('right-click-component'));
                });
            </script>
        </div>

        <!-- Task: Scroll to bottom and accept terms -->
        <div class="task" id="scroll-accept">
            <div class="task-badge"><a href="#scroll-accept" id="scroll-accept">scroll-accept</a></div>
            <div class="task-title">Scroll the to the bottom of this legal text and click I accept</div>
            <div id="scroll-container" style="height: 150px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 4px;">
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>
                <p>Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur.</p>
                <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.</p>
                <p id="scroll-bottom-marker" style="color: var(--primary-color); font-weight: bold;">You've reached the bottom!</p>
            </div>
            <button id="accept-button">I accept</button>
            <script>
                const scrollContainer = document.getElementById('scroll-container');
                const scrollBottomMarker = document.getElementById('scroll-bottom-marker');
                const acceptButton = document.getElementById('accept-button');
                let hasScrolledToBottom = false;
                
                // Initially disable the accept button
                acceptButton.disabled = true;
                acceptButton.style.opacity = '0.5';
                acceptButton.style.cursor = 'not-allowed';
                
                scrollContainer.addEventListener('scroll', function() {
                    // Check if scrolled to bottom
                    if (this.scrollHeight - this.scrollTop <= this.clientHeight + 5) {
                        // Enable the accept button when scrolled to bottom
                        hasScrolledToBottom = true;
                        acceptButton.disabled = false;
                        acceptButton.style.opacity = '1';
                        acceptButton.style.cursor = 'pointer';
                        scrollBottomMarker.textContent = "You've read all the terms. Please click 'I accept' button.";
                    }
                });
                
                // Add click handler for the accept button
                acceptButton.addEventListener('click', function() {
                    if (hasScrolledToBottom) {
                        this.textContent = "Terms Accepted";
                        completeTask(document.getElementById('scroll-accept'));
                    } else {
                        // If they somehow click before scrolling (shouldn't be possible with disabled button)
                        alert("Please scroll to the bottom and read all terms first!");
                    }
                });
            </script>
        </div>

        <!-- Task: Draw circle by hovering -->
        <div class="task" id="draw-circle">
            <div class="task-badge"><a href="#draw-circle" id="draw-circle">draw-circle</a></div>
            <div class="task-title">Draw a circle with your mouse by hovering</div>
            <div id="draw-container" style="width: 300px; height: 300px; position: relative; border: 1px solid #ddd; border-radius: 4px;">
                <canvas id="draw-canvas" width="300" height="300" style="position: absolute; top: 0; left: 0;"></canvas>
                <div id="draw-instructions" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
                    Hover your mouse in a circular pattern
                </div>
            </div>
            <script>
                const drawCanvas = document.getElementById('draw-canvas');
                const drawCtx = drawCanvas.getContext('2d');
                const drawInstructions = document.getElementById('draw-instructions');
                const centerX = drawCanvas.width / 2;
                const centerY = drawCanvas.height / 2;
                const radius = 100;
                const pointsNeeded = 20;
                
                // Draw circle guide (faint)
                drawCtx.beginPath();
                drawCtx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                drawCtx.strokeStyle = 'rgba(200, 200, 200, 0.3)';
                drawCtx.stroke();
                
                // For tracking points along the circle
                const points = [];
                const angleSegments = 8; // Divide circle into segments
                const segmentStatus = new Array(angleSegments).fill(false);
                
                drawCanvas.addEventListener('mousemove', function(e) {
                    const rect = drawCanvas.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    // Draw dot where mouse is
                    drawCtx.beginPath();
                    drawCtx.arc(x, y, 3, 0, Math.PI * 2);
                    drawCtx.fillStyle = 'rgba(74, 107, 255, 0.5)';
                    drawCtx.fill();
                    
                    // Calculate angle from center
                    const dx = x - centerX;
                    const dy = y - centerY;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    // If within certain range from the circle
                    if (Math.abs(distance - radius) < 20) {
                        let angle = Math.atan2(dy, dx);
                        if (angle < 0) angle += Math.PI * 2;
                        
                        // Determine which segment this angle falls into
                        const segment = Math.floor((angle / (Math.PI * 2)) * angleSegments);
                        segmentStatus[segment] = true;
                        
                        // If all segments have been touched
                        if (segmentStatus.every(status => status)) {
                            drawInstructions.textContent = "Great job! Circle completed!";
                            completeTask(document.getElementById('draw-circle'));
                        }
                    }
                });
            </script>
        </div>

        <!-- Task: Native Browser Confirmation Dialog -->
        <div class="task" id="cancel-dialog">
            <div class="task-badge"><a href="#cancel-dialog" id="cancel-dialog">cancel-dialog</a></div>
            <div class="task-title">Click to open a native browser confirmation dialog and click Cancel</div>
            <button id="confirm-button">Open dialog</button>
            <script>
                const confirmButton = document.getElementById('confirm-button');
                
                confirmButton.addEventListener('click', function() {
                    // Native browser confirmation dialog
                    const result = window.confirm("Are you sure you want to delete all important data? This action cannot be undone.");
                    
                    if (result) {
                        // User clicked OK/Confirm
                        confirmButton.textContent = 'Data Deleted!';
                    } else {
                        // User clicked Cancel
                        confirmButton.textContent = 'Operation Cancelled';
                        completeTask(document.getElementById('cancel-dialog'));
                    }
                });
            </script>
        </div>

        <!-- Task: Geolocation Permission -->
        <div class="task" id="geolocation-permission">
            <div class="task-badge"><a href="#geolocation-permission" id="geolocation-permission">geolocation-permission</a></div>
            <div class="task-title">Request geolocation permission and approve</div>
            <style>
                .permissions-status {
                    padding: 1rem;
                    margin: 1rem 0;
                    border-radius: 4px;
                    background-color: #f8f9fa;
                }
            </style>
            <button id="request-location-button">Share My Location</button>
            <div class="permissions-status" id="geolocation-status">Permission status: Not requested</div>
            <script>
                const requestLocationButton = document.getElementById('request-location-button');
                const geolocationStatus = document.getElementById('geolocation-status');

                requestLocationButton.addEventListener('click', function() {
                    if ('geolocation' in navigator) {
                        geolocationStatus.textContent = 'Permission status: Requesting...';
                        
                        navigator.geolocation.getCurrentPosition(
                            function(position) {
                                // Success callback
                                const lat = position.coords.latitude.toFixed(4);
                                const lng = position.coords.longitude.toFixed(4);
                                geolocationStatus.textContent = `Permission granted! Location: ${lat}, ${lng}`;
                                geolocationStatus.style.color = 'var(--success-color)';
                                completeTask(document.getElementById('geolocation-permission'));
                            },
                            function(error) {
                                // Error callback
                                geolocationStatus.textContent = `Permission denied: ${error.message}`;
                                geolocationStatus.style.color = 'var(--secondary-color)';
                            },
                            {
                                enableHighAccuracy: false,
                                timeout: 5000,
                                maximumAge: 0
                            }
                        );
                    } else {
                        geolocationStatus.textContent = 'Geolocation is not supported in this browser';
                        geolocationStatus.style.color = 'var(--secondary-color)';
                    }
                });
            </script>
        </div>

        <!-- Task: Arrow Key Presses -->
        <div class="task" id="arrow-key-presses">
            <div class="task-badge"><a href="#arrow-key-presses" id="arrow-key-presses">arrow-key-presses</a></div>
            <div class="task-title">Press the right arrow key 3 times</div>
            <style>
                .key-press-area {
                    border: 2px solid #ddd;
                    border-radius: 4px;
                    padding: 1.5rem;
                    margin: 1rem 0;
                    text-align: center;
                    background-color: #f8f9fa;
                }

                .key-press-display {
                    font-family: monospace;
                    font-size: 1.2rem;
                    margin: 1rem 0;
                    min-height: 1.5rem;
                    color: var(--primary-color);
                }
            </style>
            <div class="key-press-area" id="key-press-area" tabindex="0">
                <p>Click here and press the right arrow key (→) three times</p>
                <div class="key-press-display" id="key-press-display">Keys pressed: </div>
            </div>
            <script>
                const keyPressArea = document.getElementById('key-press-area');
                const keyPressDisplay = document.getElementById('key-press-display');
                let rightArrowPresses = 0;

                keyPressArea.addEventListener('keydown', function(e) {
                    if (e.key === 'ArrowRight') {
                        rightArrowPresses++;
                        
                        // Update display
                        if (rightArrowPresses === 1) {
                            keyPressDisplay.textContent = 'Keys pressed: →';
                        } else if (rightArrowPresses === 2) {
                            keyPressDisplay.textContent = 'Keys pressed: → →';
                        } else if (rightArrowPresses === 3) {
                            keyPressDisplay.textContent = 'Keys pressed: → → →';
                            completeTask(document.getElementById('arrow-key-presses'));
                        } else {
                            keyPressDisplay.textContent = `Keys pressed: ${'→ '.repeat(rightArrowPresses)}`;
                        }
                        
                        // Prevent scrolling with arrow keys
                        e.preventDefault();
                    }
                });

                // Ensure key press area is focusable
                keyPressArea.addEventListener('click', function() {
                    this.focus();
                });
            </script>
        </div>

        <!-- Task: Alert with secret word -->
        <div class="task" id="alert-secret">
            <div class="task-badge"><a href="#alert-secret" id="alert-secret">alert-secret</a></div>
            <div class="task-title">Find the secret word in the alert and paste it below</div>
            <button id="secret-alert-button">Show Alert with Secret Word</button>
            <div style="margin-top: 10px;">
                <input type="text" id="secret-word-input" placeholder="Type the secret word here">
            </div>
            <script>
                const secretAlertButton = document.getElementById('secret-alert-button');
                const secretWordInput = document.getElementById('secret-word-input');
                
                secretAlertButton.addEventListener('click', function() {
                    alert("This is an alert dialog.\n\nThe secret word is: avocado\n\nRemember it and type it in the input field.");
                });
                
                secretWordInput.addEventListener('input', function() {
                    if (this.value.trim().toLowerCase() === 'avocado') {
                        completeTask(document.getElementById('alert-secret'));
                    }
                });
            </script>
        </div>

        <!-- Task: Press and hold button -->
        <div class="task" id="press-hold-button">
            <div class="task-badge"><a href="#press-hold-button" id="press-hold-button">press-hold-button</a></div>
            <div class="task-title">Press and hold this button until the progress bar fills</div>
            <div>
                <button id="hold-button" style="user-select: none;">Press and hold me</button>
                <div style="margin-top: 10px; background-color: #e9ecef; height: 20px; border-radius: 4px; overflow: hidden;">
                    <div id="progress-bar" style="width: 0%; height: 100%; background-color: var(--primary-color); transition: width 0.1s linear;"></div>
                </div>
            </div>
            <script>
                const holdButton = document.getElementById('hold-button');
                const progressBar = document.getElementById('progress-bar');
                let holdInterval;
                let progress = 0;
                
                holdButton.addEventListener('mousedown', function() {
                    holdButton.textContent = 'Keep holding...';
                    progress = 0;
                    progressBar.style.width = '0%';
                    
                    holdInterval = setInterval(() => {
                        progress += 2;
                        progressBar.style.width = `${progress}%`;
                        
                        if (progress >= 100) {
                            clearInterval(holdInterval);
                            holdButton.textContent = 'Done!';
                            completeTask(document.getElementById('press-hold-button'));
                        }
                    }, 10);
                });
                
                holdButton.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    holdButton.dispatchEvent(new Event('mousedown'));
                });
                
                function stopHolding() {
                    if (progress < 100) {
                        clearInterval(holdInterval);
                        holdButton.textContent = 'Press and hold me';
                    }
                }
                
                holdButton.addEventListener('mouseup', stopHolding);
                holdButton.addEventListener('mouseleave', stopHolding);
                holdButton.addEventListener('touchend', stopHolding);
                holdButton.addEventListener('touchcancel', stopHolding);
            </script>
        </div>

        <!-- Task: Tooltip hover -->
        <div class="task" id="tooltip-secret">
            <div class="task-badge"><a href="#tooltip-secret" id="tooltip-secret">tooltip-secret</a></div>
            <div class="task-title">Hover over this element to find a secret word in the tooltip</div>
            <div class="tooltip-container">
                <div id="tooltip-element" style="padding: 1rem; background-color: #e9ecef; display: inline-block; border-radius: 4px; position: relative;">
                    Hover over me for the secret
                    <span class="tooltip-text" style="visibility: hidden; position: absolute; background-color: #333; color: white; text-align: center; padding: 5px; border-radius: 6px; z-index: 1; opacity: 0; transition: opacity 0.3s; width: 120px; bottom: 125%; left: 50%; margin-left: -60px;">
                        Secret word: octopus
                    </span>
                </div>
                <div style="margin-top: 10px;">
                    <input type="text" id="tooltip-secret-input" placeholder="Type the secret word here">
                </div>
            </div>
            <script>
                const tooltipElement = document.getElementById('tooltip-element');
                const tooltipText = tooltipElement.querySelector('.tooltip-text');
                const tooltipSecretInput = document.getElementById('tooltip-secret-input');
                
                tooltipElement.addEventListener('mouseenter', function() {
                    tooltipText.style.visibility = 'visible';
                    tooltipText.style.opacity = '1';
                });
                
                tooltipElement.addEventListener('mouseleave', function() {
                    tooltipText.style.visibility = 'hidden';
                    tooltipText.style.opacity = '0';
                });
                
                tooltipSecretInput.addEventListener('input', function() {
                    if (this.value.trim().toLowerCase() === 'octopus') {
                        completeTask(document.getElementById('tooltip-secret'));
                    }
                });
            </script>
        </div>

        <!-- Task: Resizable textarea -->
        <div class="task" id="resize-textarea">
            <div class="task-badge"><a href="#resize-textarea" id="resize-textarea">resize-textarea</a></div>
            <div class="task-title">Resize this textarea to reveal a secret word</div>
            <textarea id="resizable-textarea" style="resize: both; min-height: 50px; min-width: 200px; max-width: 100%; width: 200px; height: 50px; overflow: auto; margin-bottom: 10px;" placeholder="Resize me to reveal a secret word..."></textarea>
            <div style="position: absolute; bottom: 5px; right: 5px; font-size: 10px; color: #ccc; pointer-events: none; display: none;" id="resize-secret">Secret: giraffe</div>
            <div style="margin-top: 10px;">
                <input type="text" id="resize-secret-input" placeholder="Type the secret word here">
            </div>
            <script>
                const resizableTextarea = document.getElementById('resizable-textarea');
                const resizeSecret = document.getElementById('resize-secret');
                const resizeSecretInput = document.getElementById('resize-secret-input');
                
                resizableTextarea.addEventListener('mouseup', checkTextareaSize);
                resizableTextarea.addEventListener('touchend', checkTextareaSize);
                
                function checkTextareaSize() {
                    if (resizableTextarea.offsetWidth > 300 && resizableTextarea.offsetHeight > 100) {
                        resizeSecret.style.display = 'block';
                    } else {
                        resizeSecret.style.display = 'none';
                    }
                }
                
                resizeSecretInput.addEventListener('input', function() {
                    if (this.value.trim().toLowerCase() === 'giraffe') {
                        completeTask(document.getElementById('resize-textarea'));
                    }
                });
            </script>
        </div>

        <!-- Task: File upload -->
        <div class="task" id="file-upload">
            <div class="task-badge"><a href="#file-upload" id="file-upload">file-upload</a></div>
            <div class="task-title">Upload a file using this input</div>
            <input type="file" id="file-upload-input">
            <div id="file-upload-status" style="margin-top: 10px; font-size: 0.9rem;"></div>
            <script>
                const fileUploadInput = document.getElementById('file-upload-input');
                const fileUploadStatus = document.getElementById('file-upload-status');
                
                fileUploadInput.addEventListener('change', function() {
                    if (this.files.length > 0) {
                        const file = this.files[0];
                        fileUploadStatus.textContent = `Uploaded: ${file.name} (${Math.round(file.size / 1024)} KB)`;
                        completeTask(document.getElementById('file-upload'));
                    }
                });
            </script>
        </div>

        <!-- Task: Naughty phone input -->
        <div class="task" id="phone-input">
            <div class="task-badge"><a href="#phone-input" id="phone-input">phone-input</a></div>
            <div class="task-title">Enter the phone number 555-1234 in this (deliberately misbehaving) input field</div>
            <input type="text" id="phone-input-field" placeholder="Enter 555-1234">
            <script>
                const phoneInputField = document.getElementById('phone-input-field');
                let isFirstKeyIgnored = true;
                
                phoneInputField.addEventListener('keydown', function(e) {
                    if (isFirstKeyIgnored) {
                        isFirstKeyIgnored = false;
                        e.preventDefault();
                        return false;
                    }
                });
                
                phoneInputField.addEventListener('input', function() {
                    if (this.value === '555-1234') {
                        completeTask(document.getElementById('phone-input'));
                    }
                });
                
                phoneInputField.addEventListener('focus', function() {
                    isFirstKeyIgnored = true;
                });
            </script>
        </div>

        <!-- Task: Details element -->
        <div class="task" id="expand-details">
            <div class="task-badge"><a href="#expand-details" id="expand-details">expand-details</a></div>
            <div class="task-title">Expand this details section to complete the task</div>
            <details id="details-element">
                <summary>Click to expand me</summary>
                <div style="padding: 15px; background-color: #f8f9fa; margin-top: 10px; border-radius: 4px;">
                    <p>Congratulations, you've expanded the details section!</p>
                    <p>This is the HTML <code>&lt;details&gt;</code> element - a native disclosure widget.</p>
                </div>
            </details>
            <script>
                const detailsElement = document.getElementById('details-element');
                
                detailsElement.addEventListener('toggle', function() {
                    if (this.open) {
                        completeTask(document.getElementById('expand-details'));
                    }
                });
            </script>
        </div>
        
        <!-- Task: Canvas Drag Square into Circle -->
        <div class="task" id="drag-square-to-circle">
            <div class="task-badge"><a href="#drag-square-to-circle" id="drag-square-to-circle">drag-square-to-circle</a></div>
            <div class="task-title">Drag the square into the circle</div>
            <style>
                #canvas-drag-container {
                    position: relative;
                    width: 350px;
                    height: 250px;
                    border: 1px solid #ddd;
                    border-radius: 4px;
                    margin: 1rem 0;
                    overflow: hidden;
                    touch-action: none;
                }
                #canvas-status {
                    margin-top: 10px;
                    font-size: 0.9rem;
                    color: var(--primary-color);
                    height: 20px;
                }
            </style>
            <div id="canvas-drag-container">
                <canvas id="drag-canvas" width="350" height="250"></canvas>
            </div>
            <div id="canvas-status"></div>
            <script>
                const dragCanvas = document.getElementById('drag-canvas');
                const ctx28 = dragCanvas.getContext('2d');
                const canvasStatus = document.getElementById('canvas-status');
                
                // Define square and circle properties
                const square = {
                    x: 50,
                    y: 100,
                    size: 50,
                    color: '#4a6bff',
                    isDragging: false
                };
                
                const circle = {
                    x: 250,
                    y: 125,
                    radius: 60,
                    color: 'rgba(255, 74, 107, 0.3)',
                    strokeColor: '#ff4a6b'
                };
                
                // Draw function
                function draw() {
                    // Clear canvas
                    ctx28.clearRect(0, 0, dragCanvas.width, dragCanvas.height);
                    
                    // Draw circle
                    ctx28.beginPath();
                    ctx28.arc(circle.x, circle.y, circle.radius, 0, Math.PI * 2);
                    ctx28.fillStyle = circle.color;
                    ctx28.fill();
                    ctx28.strokeStyle = circle.strokeColor;
                    ctx28.lineWidth = 2;
                    ctx28.stroke();
                    
                    // Draw square
                    ctx28.fillStyle = square.color;
                    ctx28.fillRect(square.x, square.y, square.size, square.size);
                    ctx28.strokeStyle = '#333';
                    ctx28.lineWidth = 1;
                    ctx28.strokeRect(square.x, square.y, square.size, square.size);
                    
                    // Check if square is inside circle
                    checkPosition();
                }
                
                // Check if square center is inside circle
                function checkPosition() {
                    const squareCenter = {
                        x: square.x + square.size / 2,
                        y: square.y + square.size / 2
                    };
                    
                    const distance = Math.sqrt(
                        Math.pow(squareCenter.x - circle.x, 2) + 
                        Math.pow(squareCenter.y - circle.y, 2)
                    );
                    
                    if (distance < circle.radius - square.size / 2) {
                        canvasStatus.textContent = "Success! Square is inside the circle!";
                        completeTask(document.getElementById('drag-square-to-circle'));
                    } else {
                        canvasStatus.textContent = "";
                    }
                }
                
                // Mouse event handlers
                dragCanvas.addEventListener('mousedown', function(e) {
                    const rect = dragCanvas.getBoundingClientRect();
                    const mouseX = e.clientX - rect.left;
                    const mouseY = e.clientY - rect.top;
                    
                    // Check if mouse is in square
                    if (mouseX > square.x && 
                        mouseX < square.x + square.size && 
                        mouseY > square.y && 
                        mouseY < square.y + square.size) {
                        square.isDragging = true;
                        square.dragOffsetX = mouseX - square.x;
                        square.dragOffsetY = mouseY - square.y;
                    }
                });
                
                dragCanvas.addEventListener('mousemove', function(e) {
                    if (square.isDragging) {
                        const rect = dragCanvas.getBoundingClientRect();
                        const mouseX = e.clientX - rect.left;
                        const mouseY = e.clientY - rect.top;
                        
                        square.x = mouseX - square.dragOffsetX;
                        square.y = mouseY - square.dragOffsetY;
                        
                        // Ensure square stays within canvas
                        square.x = Math.max(0, Math.min(dragCanvas.width - square.size, square.x));
                        square.y = Math.max(0, Math.min(dragCanvas.height - square.size, square.y));
                        
                        draw();
                    }
                });
                
                dragCanvas.addEventListener('mouseup', function() {
                    square.isDragging = false;
                });
                
                dragCanvas.addEventListener('mouseleave', function() {
                    square.isDragging = false;
                });
                
                // Touch event handlers for mobile
                dragCanvas.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    const rect = dragCanvas.getBoundingClientRect();
                    const touch = e.touches[0];
                    const touchX = touch.clientX - rect.left;
                    const touchY = touch.clientY - rect.top;
                    
                    if (touchX > square.x && 
                        touchX < square.x + square.size && 
                        touchY > square.y && 
                        touchY < square.y + square.size) {
                        square.isDragging = true;
                        square.dragOffsetX = touchX - square.x;
                        square.dragOffsetY = touchY - square.y;
                    }
                });
                
                dragCanvas.addEventListener('touchmove', function(e) {
                    e.preventDefault();
                    if (square.isDragging) {
                        const rect = dragCanvas.getBoundingClientRect();
                        const touch = e.touches[0];
                        const touchX = touch.clientX - rect.left;
                        const touchY = touch.clientY - rect.top;
                        
                        square.x = touchX - square.dragOffsetX;
                        square.y = touchY - square.dragOffsetY;
                        
                        // Ensure square stays within canvas
                        square.x = Math.max(0, Math.min(dragCanvas.width - square.size, square.x));
                        square.y = Math.max(0, Math.min(dragCanvas.height - square.size, square.y));
                        
                        draw();
                    }
                });
                
                dragCanvas.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    square.isDragging = false;
                });
                
                // Initial draw
                draw();
            </script>
        </div>

        <!-- Task: Audio Transcription -->
        <div class="task" id="audio-transcription">
            <div class="task-badge"><a href="#audio-transcription" id="audio-transcription">audio-transcription</a></div>
            <div class="task-title">Play this audio snippet and transcribe the word into this field</div>
            <div style="margin: 1rem 0;">
                <audio id="audio-snippet" controls>
                    <source src="task29-audio.ogg" type="audio/ogg">
                    Your browser does not support the audio element.
                </audio>
            </div>
            <div style="margin-top: 10px;">
                <input type="text" id="transcription-input" placeholder="Type the word in the audio snippet here">
            </div>
            <script>
                const transcriptionInput = document.getElementById('transcription-input');
                
                transcriptionInput.addEventListener('input', function() {
                    if (this.value.trim().toLowerCase() === 'gossip') {
                        completeTask(document.getElementById('audio-transcription'));
                    }
                });
            </script>
        </div>
        
        <!-- Task: Dropdown Selections -->
        <div class="task" id="dropdown-selections">
            <div class="task-badge"><a href="#dropdown-selections" id="dropdown-selections">dropdown-selections</a></div>
            <div class="task-title">Select "red" and "ball" from these dropdowns</div>
            
            <!-- Include Select2 CSS and JS for the fancy dropdown -->
            <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
            
            <div style="margin: 1rem 0;">
                <div style="margin-bottom: 1rem;">
                    <label for="color-select">Select a color:</label>
                    <select id="color-select" style="width: 200px; margin-left: 10px;">
                        <option value="">Choose a color</option>
                        <option value="blue">Blue</option>
                        <option value="green">Green</option>
                        <option value="red">Red</option>
                        <option value="yellow">Yellow</option>
                        <option value="purple">Purple</option>
                    </select>
                </div>
                
                <div>
                    <label for="object-select">Select an object:</label>
                    <select id="object-select" class="object-select-dropdown" style="width: 200px; margin-left: 10px;">
                        <option value="">Choose an object</option>
                        <option value="apple">Apple</option>
                        <option value="airplane">Airplane</option>
                        <option value="arrow">Arrow</option>
                        <option value="backpack">Backpack</option>
                        <option value="badge">Badge</option>
                        <option value="bagel">Bagel</option>
                        <option value="balloon">Balloon</option>
                        <option value="ball">Ball</option>
                        <option value="banana">Banana</option>
                        <option value="basket">Basket</option>
                        <option value="battery">Battery</option>
                        <option value="beach">Beach</option>
                        <option value="bean">Bean</option>
                        <option value="bicycle">Bicycle</option>
                        <option value="bird">Bird</option>
                        <option value="blanket">Blanket</option>
                        <option value="boat">Boat</option>
                        <option value="book">Book</option>
                        <option value="bottle">Bottle</option>
                        <option value="bowl">Bowl</option>
                        <option value="box">Box</option>
                        <option value="bracelet">Bracelet</option>
                        <option value="bread">Bread</option>
                        <option value="bridge">Bridge</option>
                        <option value="broom">Broom</option>
                        <option value="brush">Brush</option>
                        <option value="bucket">Bucket</option>
                        <option value="button">Button</option>
                        <option value="cabinet">Cabinet</option>
                        <option value="cable">Cable</option>
                        <option value="cactus">Cactus</option>
                        <option value="calculator">Calculator</option>
                        <option value="calendar">Calendar</option>
                        <option value="camera">Camera</option>
                        <option value="candle">Candle</option>
                        <option value="car">Car</option>
                        <option value="card">Card</option>
                        <option value="carpet">Carpet</option>
                        <option value="carrot">Carrot</option>
                        <option value="castle">Castle</option>
                        <option value="cat">Cat</option>
                        <option value="chair">Chair</option>
                        <option value="chalk">Chalk</option>
                        <option value="charger">Charger</option>
                        <option value="cheese">Cheese</option>
                        <option value="cherry">Cherry</option>
                        <option value="chess">Chess</option>
                        <option value="chicken">Chicken</option>
                        <option value="chocolate">Chocolate</option>
                        <option value="clock">Clock</option>
                        <option value="cloud">Cloud</option>
                        <option value="coat">Coat</option>
                        <option value="coffee">Coffee</option>
                        <option value="coin">Coin</option>
                        <option value="comb">Comb</option>
                        <option value="compass">Compass</option>
                        <option value="computer">Computer</option>
                        <option value="cookie">Cookie</option>
                        <option value="cup">Cup</option>
                        <option value="cube">Cube</option>
                        <option value="curtain">Curtain</option>
                        <option value="desk">Desk</option>
                        <option value="diamond">Diamond</option>
                        <option value="dog">Dog</option>
                        <option value="door">Door</option>
                        <option value="drawing">Drawing</option>
                        <option value="dress">Dress</option>
                        <option value="drum">Drum</option>
                        <option value="duck">Duck</option>
                        <option value="earring">Earring</option>
                        <option value="egg">Egg</option>
                        <option value="elephant">Elephant</option>
                        <option value="envelope">Envelope</option>
                        <option value="eraser">Eraser</option>
                        <option value="fan">Fan</option>
                        <option value="feather">Feather</option>
                        <option value="fence">Fence</option>
                        <option value="fidget">Fidget</option>
                        <option value="fish">Fish</option>
                        <option value="flag">Flag</option>
                        <option value="flashlight">Flashlight</option>
                        <option value="flower">Flower</option>
                        <option value="flute">Flute</option>
                        <option value="fork">Fork</option>
                        <option value="frog">Frog</option>
                        <option value="garden">Garden</option>
                        <option value="glove">Glove</option>
                        <option value="grapes">Grapes</option>
                        <option value="guitar">Guitar</option>
                        <option value="hammer">Hammer</option>
                        <option value="hat">Hat</option>
                        <option value="headphones">Headphones</option>
                        <option value="helmet">Helmet</option>
                        <option value="house">House</option>
                        <option value="icecream">Icecream</option>
                        <option value="pen">Pen</option>
                        <option value="phone">Phone</option>
                    </select>
                </div>
            </div>
            
            <script>
                // Initialize Select2 for the object dropdown to make it fancy
                $(document).ready(function() {
                    $('.object-select-dropdown').select2({
                        placeholder: "Select an object"
                    });
                    
                    // Track selections
                    let colorSelected = false;
                    let objectSelected = false;
                    
                    // Check if task is complete
                    function checkDropdownSelections() {
                        if (colorSelected && objectSelected) {
                            completeTask(document.getElementById('dropdown-selections'));
                        }
                    }
                    
                    // Listen for color selection
                    $('#color-select').on('change', function() {
                        if ($(this).val() === 'red') {
                            colorSelected = true;
                            checkDropdownSelections();
                        } else {
                            colorSelected = false;
                        }
                    });
                    
                    // Listen for object selection
                    $('#object-select').on('change', function() {
                        if ($(this).val() === 'ball') {
                            objectSelected = true;
                            checkDropdownSelections();
                        } else {
                            objectSelected = false;
                        }
                    });
                });
            </script>
        </div>

        <!-- Task: Contenteditable Div -->
        <div class="task" id="contenteditable-div">
            <div class="task-badge"><a href="#contenteditable-div" id="contenteditable-div">contenteditable-div</a></div>
            <div class="task-title">Type "banana" into this contenteditable div element</div>
            <div style="margin: 1rem 0;">
                <div 
                    id="editable-content" 
                    contenteditable="true" 
                    style="min-height: 50px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; background-color: #f8f9fa;">
                    Click here and start typing...
                </div>
            </div>
            <script>
                const editableDiv = document.getElementById('editable-content');
                
                // Clear default text when div is first clicked
                editableDiv.addEventListener('focus', function() {
                    if (this.textContent.trim() === 'Click here and start typing...') {
                        this.textContent = '';
                    }
                }, { once: true });
                
                // Check for completion
                editableDiv.addEventListener('input', function() {
                    if (this.textContent.trim().toLowerCase() === 'banana') {
                        completeTask(document.getElementById('contenteditable-div'));
                    }
                });
            </script>
        </div>

    </div>

        
    <!--------------------------------------------------------------------------------------------------->
    <script>
        // Global script for shared functions
        document.addEventListener('DOMContentLoaded', function() {
            const tasks = document.querySelectorAll('.task');
            const scoreElement = document.querySelector('.score');
            let score = 0;
            let currentTaskIndex = 0;

            // Define the global completeTask function that all tasks use
            window.completeTask = function(taskElement) {
                if (taskElement.classList.contains('completed')) return;

                // Save current scroll position
                const scrollPos = window.scrollY;

                taskElement.classList.remove('active');
                taskElement.classList.add('completed');
                score++;
                updateScore();

                // Move to next task
                if (currentTaskIndex < tasks.length - 1) {
                    currentTaskIndex++;
                    tasks[currentTaskIndex].classList.add('active');
                }
                
                // Restore scroll position
                window.scrollTo(0, scrollPos);
            }

            function updateScore() {
                scoreElement.textContent = score;
                scoreElement.classList.add('score-animation');
                setTimeout(() => scoreElement.classList.remove('score-animation'), 500);
                createConfetti();
            }

            function createConfetti() {
                const colors = ['#ff4a6b', '#4a6bff', '#4aff6b', '#ff4aff', '#ffff4a'];
                for (let i = 0; i < 20; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * window.innerWidth + 'px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = (Math.random() * 10 + 5) + 'px';
                    confetti.style.height = (Math.random() * 10 + 5) + 'px';
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    document.body.appendChild(confetti);

                    // Remove confetti after animation ends
                    setTimeout(() => {
                        document.body.removeChild(confetti);
                    }, 5000);
                }
            }
        });
    </script>
</body>
</html>
